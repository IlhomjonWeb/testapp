(function(){"use strict";var t={92:function(t,e,a){var n=a(751),r=a(641),o=a(33);const s={class:"container"};function i(t,e,a,n,i,c){const l=(0,r.g2)("HeaderVue"),d=(0,r.g2)("Banner"),h=(0,r.g2)("WeatheInfo");return(0,r.uX)(),(0,r.CE)("div",{class:(0,o.C4)([{dark:i.isDarkModeApp,light:!i.isDarkModeApp},"app"])},[(0,r.Lk)("div",s,[(0,r.bF)(l,{onUpdateDarkMode:c.handleDarkModeUpdate,onCountrySelected:c.fetchWeatherData},null,8,["onUpdateDarkMode","onCountrySelected"]),(0,r.bF)(d,{selectedCountry:i.selectedCountry},null,8,["selectedCountry"]),(0,r.bF)(h,{selectedCountry:i.selectedCountry},null,8,["selectedCountry"]),e[0]||(e[0]=(0,r.Lk)("p",{style:{"text-align":"center"}},"by ilhomjonfrontend@gmail.com | ©2024",-1))])],2)}var c="data:image/png;base64,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",l=a.p+"img/DarkMod.ee4f4542.svg";const d={class:"Weather-site-search"};function h(t,e,a,o,s,i){return(0,r.uX)(),(0,r.CE)("section",null,[e[5]||(e[5]=(0,r.Lk)("div",{class:"Weather-site-logo"},[(0,r.Lk)("img",{src:c,alt:""}),(0,r.Lk)("h3",{class:"logo"},"vue weather")],-1)),(0,r.Lk)("div",d,[(0,r.Lk)("form",{onSubmit:e[3]||(e[3]=(0,n.D$)((()=>{}),["prevent"]))},[(0,r.Lk)("button",{type:"button",onClick:e[0]||(e[0]=(...t)=>i.toggleMode&&i.toggleMode(...t))},e[4]||(e[4]=[(0,r.Lk)("img",{src:l,alt:""},null,-1)])),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.Countr=t),type:"text",placeholder:"Search Country...",onInput:e[2]||(e[2]=(...t)=>i.sendToParent&&i.sendToParent(...t))},null,544),[[n.Jo,s.Countr]])],32)])])}var u={data(){return{isDarkMode:!1,Countr:""}},methods:{toggleMode(){this.isDarkMode=!this.isDarkMode,this.$emit("update-dark-mode",this.isDarkMode)},sendToParent(){this.$emit("country-selected",this.Countr)}}},p=a(262);const g=(0,p.A)(u,[["render",h],["__scopeId","data-v-7bd16dd5"]]);var k=g,w=a.p+"img/temp.5012f3aa.svg",m=a.p+"img/pressure.dec93a4d.svg",f=a.p+"img/Group.b2bec82d.svg",y=a.p+"img/wind.e3f8caaa.svg",A=a.p+"img/background.7f142532.png";const v={class:"Weather-content"},L={class:"content-inner"},C={class:"content-top"},D={class:"content-top-title"},E={class:"weather-situation"},b=["src"],S={class:"content-bottom"},T={class:"time"},M={class:"country"},B={class:"weather-description"},j={class:"description-inner"},F={class:"weather-info"},x={class:"weather-info"},X={class:"weather-info"},Q={class:"weather-info"};function Y(t,e,a,n,s,i){return(0,r.uX)(),(0,r.CE)("section",null,[(0,r.Lk)("div",v,[(0,r.Lk)("div",L,[(0,r.Lk)("div",C,[(0,r.Lk)("div",D,[(0,r.Lk)("h1",null,(0,o.v_)(`${s.day?.temp}°`||"N/A"),1),e[0]||(e[0]=(0,r.Lk)("h3",null,"Today",-1))]),(0,r.Lk)("div",E,[(0,r.Lk)("img",{src:`https://openweathermap.org/img/wn/${s.day?.weather[0].icon}@2x.png`,alt:"Sun"},null,8,b)])]),(0,r.Lk)("div",S,[(0,r.Lk)("span",T,"Time: "+(0,o.v_)(i.formatTimestampToDate(s.day?.dt)||"N/A"),1),(0,r.Lk)("span",M,"Город: "+(0,o.v_)(this.selectedCountry),1)])]),(0,r.Lk)("div",B,[(0,r.Lk)("div",j,[(0,r.Lk)("div",F,[e[1]||(e[1]=(0,r.Lk)("span",null,[(0,r.Lk)("img",{src:w,alt:""})],-1)),e[2]||(e[2]=(0,r.Lk)("p",null,"Давление",-1)),(0,r.Lk)("h3",null,(0,o.v_)(s.day?.temp||"N/A")+"° - ощущается как "+(0,o.v_)(s.day?.feels_like||"N/A")+"°",1)]),(0,r.Lk)("div",x,[e[3]||(e[3]=(0,r.Lk)("span",null,[(0,r.Lk)("img",{src:m,alt:""})],-1)),e[4]||(e[4]=(0,r.Lk)("p",null,"Температура",-1)),(0,r.Lk)("h3",null,(0,o.v_)(s.day?.humidity||"N/A")+"% влажность",1)]),(0,r.Lk)("div",X,[e[5]||(e[5]=(0,r.Lk)("span",null,[(0,r.Lk)("img",{src:f,alt:""})],-1)),e[6]||(e[6]=(0,r.Lk)("p",null,"Осадки",-1)),(0,r.Lk)("h3",null,(0,o.v_)(s.day?.weather[0].description||"N/A"),1)]),(0,r.Lk)("div",Q,[e[7]||(e[7]=(0,r.Lk)("span",null,[(0,r.Lk)("img",{src:y,alt:""})],-1)),e[8]||(e[8]=(0,r.Lk)("p",null,"Ветер",-1)),(0,r.Lk)("h3",null,(0,o.v_)(s.day?.wind_speed||"N/A")+" м/с",1)])]),e[9]||(e[9]=(0,r.Lk)("div",{class:"background"},[(0,r.Lk)("img",{src:A,alt:""})],-1))])])])}var P={apiKey:"ff76957a95b4270a6d484ebca7781f80",async getCityCoordinates(t){try{const e=`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(t)}&limit=1&appid=${this.apiKey}`,a=await fetch(e);if(!a.ok)throw new Error(`Failed to fetch coordinates for ${t}.`);const n=await a.json();if(!n.length)throw new Error(`City ${t} not found.`);return{lat:n[0].lat,lon:n[0].lon}}catch(e){throw console.error("Error fetching city coordinates:",e),e}},async getWeatherData(t,e){try{const a=`https://api.openweathermap.org/data/3.0/onecall?lat=${t}&lon=${e}&exclude=minutely,hourly,alerts&units=metric&appid=${this.apiKey}`,n=await fetch(a);if(!n.ok)throw new Error("Failed to fetch weather data.");const r=await n.json();return r}catch(a){throw console.error("Error fetching weather data:",a),a}}},I={data(){return{weatherData:null,day:null}},props:{selectedCountry:String},watch:{selectedCountry:function(t,e){console.log("Prop changed: ",t," | was: ",e),""!=t&&void 0!=t||(t="Tashkent"),this.get_weather_date(t)}},methods:{async get_weather_date(t){try{void 0==t&&(t="Tashkent");const e=await P.getCityCoordinates(t),a=await P.getWeatherData(e.lat,e.lon);this.weatherData=a,console.log("Weather data fetched successfully:",this.weatherData),this.day=this.weatherData.current}catch(e){console.error("Error fetching weather data:",e)}},formatTimestampToDate(t){if(void 0==t)return"N/A";console.log("time "),console.log(t);const e=new Date(1e3*t);console.log(Intl.DateTimeFormat().resolvedOptions().timeZone);const a={hour:"2-digit",minute:"2-digit",hourCycle:"h12",timeZone:"Asia/Yekaterinburg"},n=new Intl.DateTimeFormat("ru-RU",a).format(e);return` ${n}`}},mounted(){this.get_weather_date("Tashkent")}};const R=(0,p.A)(I,[["render",Y],["__scopeId","data-v-73e351e4"]]);var U=R;const J={class:"weather-day-info"},W={class:"weather-day-btn"},V={class:"weather-day-cart"},q={class:"cart-hero-title"},H={class:"cart-day"},O=["src"],N={class:"weather-temp"},_={class:"weather-second-temp"},K={class:"weather-situation"};function Z(t,e,a,n,s,i){return(0,r.uX)(),(0,r.CE)("section",null,[(0,r.Lk)("div",J,[(0,r.Lk)("div",W,[(0,r.Lk)("button",{class:"blue",onClick:e[0]||(e[0]=(...t)=>i.get_weather_date&&i.get_weather_date(...t))},"На неделю"),(0,r.Lk)("button",{class:"white",onClick:e[1]||(e[1]=(...t)=>i.hide_weather_date&&i.hide_weather_date(...t))},"Отменить")]),(0,r.Lk)("div",V,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.daily,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.dt,class:"cart"},[(0,r.Lk)("h3",q,(0,o.v_)(i.formatTimestampToDayAndDate(t.dt)),1),(0,r.Lk)("span",H,(0,o.v_)(i.formatTimestampToShortDate(t.dt)),1),(0,r.Lk)("img",{src:`https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`,alt:"",class:"weather-status"},null,8,O),(0,r.Lk)("span",N,(0,o.v_)(t.feels_like.day)+"° ",1),(0,r.Lk)("span",_,(0,o.v_)(t.feels_like.night)+"°",1),(0,r.Lk)("span",K,(0,o.v_)(t.weather[0].description),1)])))),128))])])])}var z={data(){return{weatherData:null,daily:null}},props:{selectedCountry:String},watch:{selectedCountry:function(t,e){console.log("Prop changed: ",t," | was: ",e),""!=t&&void 0!=t||(t="Tashkent"),this.get_weather_date(t)}},methods:{formatTimestampToShortDate(t){const e=new Date(1e3*t),a=e.getDate(),n=e.toLocaleDateString("en-US",{month:"short"});return`${a} ${n}`},formatTimestampToDayAndDate(t){const e=new Date(1e3*t),a=new Date,n=new Date;n.setDate(a.getDate()+1);const r=e.toDateString()===a.toDateString(),o=e.toDateString()===n.toDateString();if(r)return"Today";if(o)return"Tomorrow";{const t=e.toLocaleDateString("en-US",{weekday:"long"});return t}},async get_weather_date(t){try{void 0==t&&(t="Tashkent");const e=await P.getCityCoordinates(t),a=await P.getWeatherData(e.lat,e.lon);this.weatherData=a,this.daily=this.weatherData.daily,this.daily.shift()}catch(e){console.error("Error fetching weather data:",e)}},async hide_weather_date(){this.daily=""}},mounted(){this.get_weather_date("Tashkent")}};const G=(0,p.A)(z,[["render",Z],["__scopeId","data-v-2a27364d"]]);var $=G,tt={components:{HeaderVue:k,Banner:U,WeatheInfo:$},data(){return{isDarkModeApp:!1,selectedCountry:"tashkent"}},methods:{handleDarkModeUpdate(t){this.isDarkModeApp=t},fetchWeatherData(t){this.selectedCountry=t,console.log("Fetching weather data for:",t)}}};const et=(0,p.A)(tt,[["render",i]]);var at=et;(0,n.Ef)(at).mount("#app")}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,r,o){if(!n){var s=1/0;for(d=0;d<t.length;d++){n=t[d][0],r=t[d][1],o=t[d][2];for(var i=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(i=!1,o<s&&(s=o));if(i){t.splice(d--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[n,r,o]}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,s=n[0],i=n[1],c=n[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var d=c(a)}for(e&&e(n);l<s.length;l++)o=s[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(d)},n=self["webpackChunkvue_weather_app"]=self["webpackChunkvue_weather_app"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(92)}));n=a.O(n)})();
//# sourceMappingURL=app.cf727799.js.map